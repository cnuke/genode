<config arch="x86_64">

	<common_routes>
		<service name="ROM" label_last="ld.lib.so"> <parent/> </service>
		<service name="CPU">   <parent/> </service>
		<service name="PD">    <parent/> </service>
		<service name="LOG">   <parent/> </service>
		<service name="Timer"> <parent/> </service>
	</common_routes>

	<default-route>
		<service name="Timer"> <parent/> </service>
		<any-service> <parent/> <any-child/> </any-service>
	</default-route>

	<start name="acpi_support"/>
	<start name="black_hole"/>
	<start name="system_clock"/>
	<start name="fonts_fs"/>
	<start name="default_recall_fs"/>

	<start name="window_layouter"/>
	<start name="themed_decorator" ram="256M"/>
	<start name="wm"/>

	<start name="top_view" pkg="top_view">
		<route>
			<service name="Gui"> <child name="wm"/> </service>
			<service name="TRACE"> <parent label="global"/> </service>
			<service name="File_system" label_prefix="fonts ->"> <child name="fonts_fs"/> </service>
		</route>
	</start>

	<start name="mesa_gpu-cpu" pkg="mesa_gpu-cpu" priority="-2">
		<route>
			<service name="RM"> <parent/> </service>
		</route>
	</start>

	<start name="default_fs_shell"/>

	<start name="audio_mixer">
		<route>
			<service name="Audio_out"> <child name="black_hole"/> </service>
			<service name="Report"> <parent/> </service>
		</route>
	</start>

	<start name="shared_fs"/>
	<start name="usb_webcam"/>

	<start name="nvme"/>
	<start name="storage_nvme"/>

	<start name="vm_ubuntu_fs"/>
	<start name="vm_ubuntu_nvme_Slot_B">
		<affinity xpos="2" ypos="0" width="2" height="1"/>
		<config vbox_file="machine.vbox6" xhci="yes" vm_name="ubuntu" capslock="rom" ld_verbose="yes">
			<vfs>
				<dir name="dev">
					<log/> <rtc/> <null/> <gpu/> <zero/>
					<legacy_oss name="dsp"/>
					<block name="block0" label="block0" io_buffer="8M"/>
				</dir>
				<dir name="pipe"> <pipe/> </dir>
				<dir name="shared"> <fs label="shared -> /" writeable="yes"/> </dir>
				<rom name="VBoxSharedClipboard.so"/>
				<rom name="VBoxSharedFolders.so"/>
				<fs label="vm -> /" writeable="yes"/>
			</vfs>
			<libc stdout="/dev/log" stderr="/dev/log" rtc="/dev/rtc" pipe="/pipe">
				<pthread placement="single-cpu"/>
			</libc>
			<monitor label="DP-1"/>
			<webcam vertical_flip="true" fps="30" screen_size="false" width="640" height="480"/>
			<arg value="virtualbox"/>
			<env key="VBOX_USER_HOME" value="/"/>
			<env key="VBOX_LOG_DEST"          value="file=/dev/log"/>
			<env key="VBOX_LOG"               value=""/>
			<env key="VBOX_LOG_FLAGS"         value="thread"/>
			<env key="VBOX_RELEASE_LOG_DEST"  value="file=/dev/log"/>
			<env key="VBOX_RELEASE_LOG"       value=""/>
			<env key="VBOX_RELEASE_LOG_FLAGS" value="thread"/>
		</config>
		<route>
			<service name="File_system" label_prefix="vm ->">     <child name="vm_ubuntu_fs"/> </service>
			<service name="File_system" label_prefix="shared ->"> <child name="shared_fs"/> </service>
			<service name="Block" label="block0">                 <child name="storage_nvme" label="6"/> </service>
			<service name="Report" label_last="shape">            <child name="wm"/> </service>
			<service name="Report" label="clipboard">             <child name="wm"/> </service>
			<service name="ROM" label="clipboard">                <child name="wm"/> </service>
			<service name="ROM" label="mesa_gpu.lib.so">          <child name="black_hole"/> </service>
			<service name="ROM" label="capslock">                 <parent label="capslock"/> </service>
			<service name="ROM" label="platform_info">            <parent label="platform_info"/> </service>
			<service name="Gui">                                  <child name="wm"/> </service>
			<service name="Nic">                                  <child name="nic_router"/> </service>
			<service name="Rtc">                                  <child name="system_clock"/> </service>
			<service name="Audio_out">                            <child name="audio_mixer"/> </service>
			<service name="Audio_in">                             <child name="black_hole"/> </service>
			<service name="Usb">                                  <child name="usb"/> </service>
			<service name="Capture">                              <child name="usb_webcam"/> </service>
			<service name="VM">                                   <parent/> </service>
			<service name="RM">                                   <parent/> </service>
			<service name="Gpu">                                  <child name="black_hole"/> </service>
		</route>
	</start>

	<start name="vm_windows_fs"/>
	<start name="vm_windows_nvme_Slot_A-U7411">
		<affinity xpos="2" ypos="1" width="2" height="1"/>
		<config vbox_file="machine.vbox6" xhci="yes" vm_name="windows" capslock="rom" ld_verbose="yes">
			<vfs>
				<dir name="dev">
					<log/> <rtc/> <null/> <gpu/> <zero/>
					<legacy_oss name="dsp"/>
					<block name="block0" label="block0" io_buffer="8M"/>
				</dir>
				<dir name="pipe"> <pipe/> </dir>
				<dir name="shared"> <fs label="shared -> /" writeable="yes"/> </dir>
				<rom name="VBoxSharedClipboard.so"/>
				<rom name="VBoxSharedFolders.so"/>
				<fs label="vm -> /" writeable="yes"/>
			</vfs>
			<libc stdout="/dev/log" stderr="/dev/log" rtc="/dev/rtc" pipe="/pipe">
				<pthread placement="single-cpu"/>
			</libc>
			<monitor label="DP-1"/>
			<webcam vertical_flip="true" fps="30" screen_size="false" width="640" height="480"/>
			<arg value="virtualbox"/>
			<env key="VBOX_USER_HOME" value="/"/>
			<env key="VBOX_LOG_DEST"          value="file=/dev/log"/>
			<env key="VBOX_LOG"               value=""/>
			<env key="VBOX_LOG_FLAGS"         value="thread"/>
			<env key="VBOX_RELEASE_LOG_DEST"  value="file=/dev/log"/>
			<env key="VBOX_RELEASE_LOG"       value=""/>
			<env key="VBOX_RELEASE_LOG_FLAGS" value="thread"/>
		</config>
		<route>
			<service name="File_system" label_prefix="vm ->">     <child name="vm_windows_fs"/> </service>
			<service name="File_system" label_prefix="shared ->"> <child name="shared_fs"/> </service>
			<service name="Block" label="block0">                 <child name="storage_nvme" label="7"/> </service>
			<service name="Report" label_last="shape">            <child name="wm"/> </service>
			<service name="Report" label="clipboard">             <child name="wm"/> </service>
			<service name="ROM" label="clipboard">                <child name="wm"/> </service>
			<service name="ROM" label="mesa_gpu.lib.so">          <child name="black_hole"/> </service>
			<service name="ROM" label="capslock">                 <parent label="capslock"/> </service>
			<service name="ROM" label="platform_info">            <parent label="platform_info"/> </service>
			<service name="Gui">                                  <child name="wm"/> </service>
			<service name="Nic">                                  <child name="nic_router"/> </service>
			<service name="Rtc">                                  <child name="system_clock"/> </service>
			<service name="Audio_out">                            <child name="audio_mixer"/> </service>
			<service name="Audio_in">                             <child name="black_hole"/> </service>
			<service name="Usb">                                  <child name="usb"/> </service>
			<service name="Capture">                              <child name="usb_webcam"/> </service>
			<service name="Gpu">                                  <child name="black_hole"/> </service>
			<service name="VM">                                   <parent/> </service>
			<service name="RM">                                   <parent/> </service>
		</route>
	</start>
</config>
