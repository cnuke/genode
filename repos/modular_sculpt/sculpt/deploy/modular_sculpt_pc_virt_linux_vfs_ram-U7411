<config arch="x86_64">

	<common_routes>
		<service name="ROM" label_last="ld.lib.so"> <parent/> </service>
		<service name="CPU">   <parent/> </service>
		<service name="PD">    <parent/> </service>
		<service name="LOG">   <parent/> </service>
		<service name="Timer"> <parent/> </service>
	</common_routes>

	<default-route>
		<service name="Timer"> <parent/> </service>
		<any-service> <parent/> <any-child/> </any-service>
	</default-route>

	<start name="acpi_support"/>
	<start name="black_hole"/>
	<start name="system_clock"/>
	<start name="fonts_fs"/>
	<start name="default_recall_fs"/>

	<start name="window_layouter"/>
	<start name="themed_decorator"/>
	<start name="wm"/>

	<start name="top_view" pkg="top_view" priority="-2">
		<route>
			<service name="Gui"> <child name="wm"/> </service>
			<service name="TRACE"> <parent label="global"/> </service>
			<service name="File_system"> <child name="fonts_fs"/> </service>
		</route>
	</start>

	<start name="mesa_gpu-cpu" pkg="mesa_gpu-cpu" priority="-2">
		<route>
			<service name="RM"> <parent/> </service>
		</route>
	</start>

	<start name="touchpad"/>

	<start name="default_fs_shell"/>

	<start name="audio_mixer">
		<route>
			<service name="Audio_out"> <child name="sof_audio"/> </service>
			<service name="Report"> <parent/> </service>
		</route>
	</start>
	<start name="sof_audio"/>

	<start name="terminal" pkg="terminal">
		<route>
			<service name="Gui"> <child name="wm"/> </service>
			<any-service> <parent/> </any-service>
		</route>
	</start>

	<start name="log_terminal" pkg="log_terminal"/>

	<start name="nvme"/>
	<start name="storage_nvme"/>

	<start name="rw_fs" pkg="dd_rw_fs"/>

	<start name="vm_pc_virt_linux" pkg="vbox6-pc_virt_linux_vfs_ram">
		<affinity xpos="1" ypos="0" width="2" height="2"/>
		<route>
			<service name="File_system" label="rw">       <child name="rw_fs"/> </service>
			<service name="Report" label_last="shape">    <child name="wm"/> </service>
			<service name="Report" label="clipboard">     <child name="wm"/> </service>
			<service name="ROM" label="clipboard">        <child name="wm"/> </service>
			<service name="ROM" label="mesa_gpu.lib.so">  <child name="mesa_gpu-cpu"/> </service>
			<service name="ROM" label="capslock">         <parent label="capslock"/> </service>
			<service name="ROM" label="platform_info">    <parent label="platform_info"/> </service>
			<service name="Audio_in">                     <child name="sof_audio"/> </service>
			<service name="Audio_out">                    <child name="audio_mixer"/> </service>
			<service name="Capture">                      <child name="black_hole"/> </service>
			<service name="Gui">                          <child name="wm"/> </service>
			<service name="Nic">                          <child name="nic_router"/> </service>
			<service name="Rtc">                          <child name="system_clock"/> </service>
			<service name="Terminal">                     <child name="log_terminal"/> </service>
			<service name="Usb">                          <child name="black_hole"/> </service>
			<service name="VM">                           <parent/> </service>
			<service name="RM">                           <parent/> </service>
			<service name="Gpu">                          <parent/> </service>
		</route>
	</start>

</config>
